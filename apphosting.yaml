# Define multiple backends if needed for each app
backends:
  - name: ssg-app-backend
    root: apps/ssg-app
    runtime: nodejs20
    buildCommand: ng build ssg-app --output-path=dist/ssg-app
    output: dist/ssg-app # Adjust to match the output directory
    deployCommand: gcloud app deploy dist/ssg-app/app.yaml --quiet

runConfig:
  cpu: 1
  memoryMiB: 512
  minInstances: 0
  maxInstances: 1
  concurrency: 80

# Global environment variables
env:
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
